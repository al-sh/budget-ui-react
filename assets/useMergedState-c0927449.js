import{r as f,aD as b,aJ as m,J as y}from"./index-510343dd.js";function S(r){var u=f.useRef();u.current=r;var t=f.useCallback(function(){for(var e,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(e=u.current)===null||e===void 0?void 0:e.call.apply(e,[u].concat(o))},[]);return t}var V=b()?f.useLayoutEffect:f.useEffect,x=function(u,t){var e=f.useRef(!0);V(function(){return u(e.current)},t),V(function(){return e.current=!1,function(){e.current=!0}},[])},h=function(u,t){x(function(e){if(!e)return u()},t)};function v(r){return r!==void 0}function F(r,u){var t=u||{},e=t.defaultValue,n=t.value,o=t.onChange,a=t.postState,L=m(function(){return v(n)?n:v(e)?typeof e=="function"?e():e:typeof r=="function"?r():r}),l=y(L,2),i=l[0],p=l[1],s=n!==void 0?n:i,C=a?a(s):s,R=S(o),M=m([s]),d=y(M,2),g=d[0],U=d[1];h(function(){var c=g[0];i!==c&&R(i,c)},[g]),h(function(){v(n)||p(n)},[n]);var _=S(function(c,E){p(c,E),U([s],E)});return[C,_]}export{h as a,S as b,x as c,F as u};
