import{r,I as Z,J as L,q as G,K as m,O as j,Y as B,M as K,a8 as ee,a0 as H,N as te}from"./index-510343dd.js";import{u as ae}from"./useMergedState-c0927449.js";import{d as re}from"./index-a67c42cc.js";var ne=["prefixCls","className","style","checked","disabled","defaultChecked","type","onChange"],le=r.forwardRef(function(t,a){var u,e=t.prefixCls,n=e===void 0?"rc-checkbox":e,E=t.className,f=t.style,_=t.checked,h=t.disabled,N=t.defaultChecked,C=N===void 0?!1:N,i=t.type,b=i===void 0?"checkbox":i,g=t.onChange,S=Z(t,ne),o=r.useRef(null),x=ae(C,{value:_}),v=L(x,2),y=v[0],l=v[1];r.useImperativeHandle(a,function(){return{focus:function(){var c;(c=o.current)===null||c===void 0||c.focus()},blur:function(){var c;(c=o.current)===null||c===void 0||c.blur()},input:o.current}});var V=G(n,E,(u={},m(u,"".concat(n,"-checked"),y),m(u,"".concat(n,"-disabled"),h),u)),w=function(c){h||("checked"in t||l(c.target.checked),g==null||g({target:B(B({},t),{},{type:b,checked:c.target.checked}),stopPropagation:function(){c.stopPropagation()},preventDefault:function(){c.preventDefault()},nativeEvent:c.nativeEvent}))};return r.createElement("span",{className:V,style:f},r.createElement("input",j({},S,{className:"".concat(n,"-input"),ref:o,onChange:w,disabled:h,checked:!!y,type:b})),r.createElement("span",{className:"".concat(n,"-inner")}))}),oe=globalThis&&globalThis.__rest||function(t,a){var u={};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&a.indexOf(e)<0&&(u[e]=t[e]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,e=Object.getOwnPropertySymbols(t);n<e.length;n++)a.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(t,e[n])&&(u[e[n]]=t[e[n]]);return u},q=r.createContext(null),ce=function(a,u){var e=a.defaultValue,n=a.children,E=a.options,f=E===void 0?[]:E,_=a.prefixCls,h=a.className,N=a.style,C=a.onChange,i=oe(a,["defaultValue","children","options","prefixCls","className","style","onChange"]),b=r.useContext(K),g=b.getPrefixCls,S=b.direction,o=r.useState(i.value||e||[]),x=L(o,2),v=x[0],y=x[1],l=r.useState([]),V=L(l,2),w=V[0],k=V[1];r.useEffect(function(){"value"in i&&y(i.value||[])},[i.value]);var c=function(){return f.map(function(d){return typeof d=="string"||typeof d=="number"?{label:d,value:d}:d})},O=function(d){k(function($){return $.filter(function(I){return I!==d})})},p=function(d){k(function($){return[].concat(H($),[d])})},P=function(d){var $=v.indexOf(d.value),I=H(v);$===-1?I.push(d.value):I.splice($,1),"value"in i||y(I);var z=c();C==null||C(I.filter(function(T){return w.includes(T)}).sort(function(T,Y){var Q=z.findIndex(function(A){return A.value===T}),U=z.findIndex(function(A){return A.value===Y});return Q-U}))},M=g("checkbox",_),R="".concat(M,"-group"),D=ee(i,["value","disabled"]);f&&f.length>0&&(n=c().map(function(s){return r.createElement(J,{prefixCls:M,key:s.value.toString(),disabled:"disabled"in s?s.disabled:i.disabled,value:s.value,checked:v.includes(s.value),onChange:s.onChange,className:"".concat(R,"-item"),style:s.style},s.label)}));var W={toggleOption:P,value:v,disabled:i.disabled,name:i.name,registerValue:p,cancelValue:O},X=G(R,m({},"".concat(R,"-rtl"),S==="rtl"),h);return r.createElement("div",j({className:X,style:N},D,{ref:u}),r.createElement(q.Provider,{value:W},n))},ue=r.forwardRef(ce);const ie=r.memo(ue);var se=globalThis&&globalThis.__rest||function(t,a){var u={};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&a.indexOf(e)<0&&(u[e]=t[e]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,e=Object.getOwnPropertySymbols(t);n<e.length;n++)a.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(t,e[n])&&(u[e[n]]=t[e[n]]);return u},de=function(a,u){var e,n=a.prefixCls,E=a.className,f=a.children,_=a.indeterminate,h=_===void 0?!1:_,N=a.style,C=a.onMouseEnter,i=a.onMouseLeave,b=a.skipGroup,g=b===void 0?!1:b,S=a.disabled,o=se(a,["prefixCls","className","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup","disabled"]),x=r.useContext(K),v=x.getPrefixCls,y=x.direction,l=r.useContext(q),V=r.useContext(re),w=V.isFormItemInput,k=r.useContext(te),c=(e=(l==null?void 0:l.disabled)||S)!==null&&e!==void 0?e:k,O=r.useRef(o.value);r.useEffect(function(){l==null||l.registerValue(o.value)},[]),r.useEffect(function(){if(!g)return o.value!==O.current&&(l==null||l.cancelValue(O.current),l==null||l.registerValue(o.value),O.current=o.value),function(){return l==null?void 0:l.cancelValue(o.value)}},[o.value]);var p=v("checkbox",n),P=j({},o);l&&!g&&(P.onChange=function(){o.onChange&&o.onChange.apply(o,arguments),l.toggleOption&&l.toggleOption({label:f,value:o.value})},P.name=l.name,P.checked=l.value.includes(o.value));var M=G(m(m(m(m(m({},"".concat(p,"-wrapper"),!0),"".concat(p,"-rtl"),y==="rtl"),"".concat(p,"-wrapper-checked"),P.checked),"".concat(p,"-wrapper-disabled"),c),"".concat(p,"-wrapper-in-form-item"),w),E),R=G(m({},"".concat(p,"-indeterminate"),h)),D=h?"mixed":void 0;return r.createElement("label",{className:M,style:N,onMouseEnter:C,onMouseLeave:i},r.createElement(le,j({"aria-checked":D},P,{prefixCls:p,className:R,disabled:c,ref:u})),f!==void 0&&r.createElement("span",null,f))},fe=r.forwardRef(de);const J=fe;var F=J;F.Group=ie;F.__ANT_CHECKBOX=!0;const he=F;export{he as C};
