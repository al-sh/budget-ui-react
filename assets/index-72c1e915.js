import{r,Z as rt,Y as Ve,a7 as qe,a6 as Ke,q as T,K as p,O as ge,a2 as at,a1 as Fe,I as it,J as ne,a9 as ze,af as ut,M as ot,S as st,ag as lt,N as ct,ah as $e,ai as Ae}from"./index-5bce78cb.js";import{D as ft}from"./index-f15d770f.js";import{K as me}from"./KeyCode-6413d982.js";import{a as ye}from"./useMergedState-bafc2ea4.js";import{b as dt,d as mt,e as Ie,N as Be,f as vt}from"./index-cdfdc75e.js";var gt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z"}}]},name:"up",theme:"outlined"};const pt=gt;var He=function(n,t){return r.createElement(rt,Ve(Ve({},n),{},{ref:t,icon:pt}))};He.displayName="UpOutlined";const St=r.forwardRef(He);function Ee(){return typeof BigInt=="function"}function U(e){var n=e.trim(),t=n.startsWith("-");t&&(n=n.slice(1)),n=n.replace(/(\.\d*[^0])0*$/,"$1").replace(/\.0*$/,"").replace(/^0+/,""),n.startsWith(".")&&(n="0".concat(n));var i=n||"0",a=i.split("."),c=a[0]||"0",N=a[1]||"0";c==="0"&&N==="0"&&(t=!1);var d=t?"-":"";return{negative:t,negativeStr:d,trimStr:i,integerStr:c,decimalStr:N,fullStr:"".concat(d).concat(i)}}function we(e){var n=String(e);return!Number.isNaN(Number(n))&&n.includes("e")}function re(e){var n=String(e);if(we(e)){var t=Number(n.slice(n.indexOf("e-")+2)),i=n.match(/\.(\d+)/);return i!=null&&i[1]&&(t+=i[1].length),t}return n.includes(".")&&xe(n)?n.length-n.indexOf(".")-1:0}function pe(e){var n=String(e);if(we(e)){if(e>Number.MAX_SAFE_INTEGER)return String(Ee()?BigInt(e).toString():Number.MAX_SAFE_INTEGER);if(e<Number.MIN_SAFE_INTEGER)return String(Ee()?BigInt(e).toString():Number.MIN_SAFE_INTEGER);n=e.toFixed(re(n))}return U(n).fullStr}function xe(e){return typeof e=="number"?!Number.isNaN(e):e?/^\s*-?\d+(\.\d+)?\s*$/.test(e)||/^\s*-?\d+\.\s*$/.test(e)||/^\s*-?\.\d+\s*$/.test(e):!1}function Te(e){var n=typeof e=="number"?pe(e):U(e).fullStr,t=n.includes(".");return t?U(n.replace(/(\d)\.(\d)/g,"$1$2.")).fullStr:e+"0"}var Nt=function(){function e(n){if(Ke(this,e),this.origin="",this.number=void 0,this.empty=void 0,!n&&n!==0||!String(n).trim()){this.empty=!0;return}this.origin=String(n),this.number=Number(n)}return qe(e,[{key:"negate",value:function(){return new e(-this.toNumber())}},{key:"add",value:function(t){if(this.isInvalidate())return new e(t);var i=Number(t);if(Number.isNaN(i))return this;var a=this.number+i;if(a>Number.MAX_SAFE_INTEGER)return new e(Number.MAX_SAFE_INTEGER);if(a<Number.MIN_SAFE_INTEGER)return new e(Number.MIN_SAFE_INTEGER);var c=Math.max(re(this.number),re(i));return new e(a.toFixed(c))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return Number.isNaN(this.number)}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(t){return this.toNumber()===(t==null?void 0:t.toNumber())}},{key:"lessEquals",value:function(t){return this.add(t.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.number}},{key:"toString",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return t?this.isInvalidate()?"":pe(this.number):this.origin}}]),e}(),ht=function(){function e(n){if(Ke(this,e),this.origin="",this.negative=void 0,this.integer=void 0,this.decimal=void 0,this.decimalLen=void 0,this.empty=void 0,this.nan=void 0,!n&&n!==0||!String(n).trim()){this.empty=!0;return}if(this.origin=String(n),n==="-"){this.nan=!0;return}var t=n;if(we(t)&&(t=Number(t)),t=typeof t=="string"?t:pe(t),xe(t)){var i=U(t);this.negative=i.negative;var a=i.trimStr.split(".");this.integer=BigInt(a[0]);var c=a[1]||"0";this.decimal=BigInt(c),this.decimalLen=c.length}else this.nan=!0}return qe(e,[{key:"getMark",value:function(){return this.negative?"-":""}},{key:"getIntegerStr",value:function(){return this.integer.toString()}},{key:"getDecimalStr",value:function(){return this.decimal.toString().padStart(this.decimalLen,"0")}},{key:"alignDecimal",value:function(t){var i="".concat(this.getMark()).concat(this.getIntegerStr()).concat(this.getDecimalStr().padEnd(t,"0"));return BigInt(i)}},{key:"negate",value:function(){var t=new e(this.toString());return t.negative=!t.negative,t}},{key:"add",value:function(t){if(this.isInvalidate())return new e(t);var i=new e(t);if(i.isInvalidate())return this;var a=Math.max(this.getDecimalStr().length,i.getDecimalStr().length),c=this.alignDecimal(a),N=i.alignDecimal(a),d=(c+N).toString(),h=U(d),S=h.negativeStr,m=h.trimStr,g="".concat(S).concat(m.padStart(a+1,"0"));return new e("".concat(g.slice(0,-a),".").concat(g.slice(-a)))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return this.nan}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(t){return this.toString()===(t==null?void 0:t.toString())}},{key:"lessEquals",value:function(t){return this.add(t.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.isNaN()?NaN:Number(this.toString())}},{key:"toString",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return t?this.isInvalidate()?"":U("".concat(this.getMark()).concat(this.getIntegerStr(),".").concat(this.getDecimalStr())).fullStr:this.origin}}]),e}();function x(e){return Ee()?new ht(e):new Nt(e)}function ve(e,n,t){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(e==="")return"";var a=U(e),c=a.negativeStr,N=a.integerStr,d=a.decimalStr,h="".concat(n).concat(d),S="".concat(c).concat(N);if(t>=0){var m=Number(d[t]);if(m>=5&&!i){var g=x(e).add("".concat(c,"0.").concat("0".repeat(t)).concat(10-m));return ve(g.toString(),n,t,i)}return t===0?S:"".concat(S).concat(n).concat(d.padEnd(t,"0").slice(0,t))}return h===".0"?S:"".concat(S).concat(h)}var bt=200,yt=600;function It(e){var n=e.prefixCls,t=e.upNode,i=e.downNode,a=e.upDisabled,c=e.downDisabled,N=e.onStep,d=r.useRef(),h=r.useRef();h.current=N;var S=function(I,O){I.preventDefault(),h.current(O);function V(){h.current(O),d.current=setTimeout(V,bt)}d.current=setTimeout(V,yt)},m=function(){clearTimeout(d.current)};if(r.useEffect(function(){return m},[]),dt())return null;var g="".concat(n,"-handler"),b=T(g,"".concat(g,"-up"),p({},"".concat(g,"-up-disabled"),a)),w=T(g,"".concat(g,"-down"),p({},"".concat(g,"-down-disabled"),c)),M={unselectable:"on",role:"button",onMouseUp:m,onMouseLeave:m};return r.createElement("div",{className:"".concat(g,"-wrap")},r.createElement("span",ge({},M,{onMouseDown:function(I){S(I,!0)},"aria-label":"Increase Value","aria-disabled":a,className:b}),t||r.createElement("span",{unselectable:"on",className:"".concat(n,"-handler-up-inner")})),r.createElement("span",ge({},M,{onMouseDown:function(I){S(I,!1)},"aria-label":"Decrease Value","aria-disabled":c,className:w}),i||r.createElement("span",{unselectable:"on",className:"".concat(n,"-handler-down-inner")})))}function Et(e,n){var t=r.useRef(null);function i(){try{var c=e.selectionStart,N=e.selectionEnd,d=e.value,h=d.substring(0,c),S=d.substring(N);t.current={start:c,end:N,value:d,beforeTxt:h,afterTxt:S}}catch{}}function a(){if(e&&t.current&&n)try{var c=e.value,N=t.current,d=N.beforeTxt,h=N.afterTxt,S=N.start,m=c.length;if(c.endsWith(h))m=c.length-t.current.afterTxt.length;else if(c.startsWith(d))m=d.length;else{var g=d[S-1],b=c.indexOf(g,S-1);b!==-1&&(m=b+1)}e.setSelectionRange(m,m)}catch(w){at(!1,"Something warning of cursor restore. Please fire issue about this: ".concat(w.message))}}return[i,a]}const wt=function(){var e=r.useRef(0),n=function(){Fe.cancel(e.current)};return r.useEffect(function(){return n},[]),function(t){n(),e.current=Fe(function(){t()})}};var xt=["prefixCls","className","style","min","max","step","defaultValue","value","disabled","readOnly","upHandler","downHandler","keyboard","controls","stringMode","parser","formatter","precision","decimalSeparator","onChange","onInput","onPressEnter","onStep"],Ue=function(n,t){return n||t.isEmpty()?t.toString():t.toNumber()},Pe=function(n){var t=x(n);return t.isInvalidate()?null:t},Le=r.forwardRef(function(e,n){var t,i=e.prefixCls,a=i===void 0?"rc-input-number":i,c=e.className,N=e.style,d=e.min,h=e.max,S=e.step,m=S===void 0?1:S,g=e.defaultValue,b=e.value,w=e.disabled,M=e.readOnly,C=e.upHandler,I=e.downHandler,O=e.keyboard,V=e.controls,ae=V===void 0?!0:V,j=e.stringMode,P=e.parser,y=e.formatter,F=e.precision,o=e.decimalSeparator,q=e.onChange,W=e.onInput,X=e.onPressEnter,A=e.onStep,Y=it(e,xt),ie="".concat(a,"-input"),_=r.useRef(null),K=r.useState(!1),ue=ne(K,2),oe=ue[0],se=ue[1],E=r.useRef(!1),$=r.useRef(!1),B=r.useRef(!1),le=r.useState(function(){return x(b??g)}),ce=ne(le,2),f=ce[0],fe=ce[1];function J(s){b===void 0&&fe(s)}var z=r.useCallback(function(s,u){if(!u)return F>=0?F:Math.max(re(s),re(m))},[F,m]),H=r.useCallback(function(s){var u=String(s);if(P)return P(u);var v=u;return o&&(v=v.replace(o,".")),v.replace(/[^\w.-]+/g,"")},[P,o]),Z=r.useRef(""),de=r.useCallback(function(s,u){if(y)return y(s,{userTyping:u,input:String(Z.current)});var v=typeof s=="number"?pe(s):s;if(!u){var l=z(v,u);if(xe(v)&&(o||l>=0)){var R=o||".";v=ve(v,R,l)}}return v},[y,z,o]),Se=r.useState(function(){var s=g??b;return f.isInvalidate()&&["string","number"].includes(ze(s))?Number.isNaN(s)?"":s:de(f.toString(),!1)}),Q=ne(Se,2),k=Q[0],D=Q[1];Z.current=k;function ee(s,u){D(de(s.isInvalidate()?s.toString(!1):s.toString(!u),u))}var L=r.useMemo(function(){return Pe(h)},[h,F]),G=r.useMemo(function(){return Pe(d)},[d,F]),Ce=r.useMemo(function(){return!L||!f||f.isInvalidate()?!1:L.lessEquals(f)},[L,f]),De=r.useMemo(function(){return!G||!f||f.isInvalidate()?!1:f.lessEquals(G)},[G,f]),Ge=Et(_.current,oe),Re=ne(Ge,2),je=Re[0],We=Re[1],_e=function(u){return L&&!u.lessEquals(L)?L:G&&!G.lessEquals(u)?G:null},Ne=function(u){return!_e(u)},he=function(u,v){var l=u,R=Ne(l)||l.isEmpty();if(!l.isEmpty()&&!v&&(l=_e(l)||l,R=!0),!M&&!w&&R){var te=l.toString(),be=z(te,v);return be>=0&&(l=x(ve(te,".",be)),Ne(l)||(l=x(ve(te,".",be,!0)))),l.equals(f)||(J(l),q==null||q(l.isEmpty()?null:Ue(j,l)),b===void 0&&ee(l,v)),l}return f},Xe=wt(),ke=function s(u){if(je(),D(u),!$.current){var v=H(u),l=x(v);l.isNaN()||he(l,!0)}W==null||W(u),Xe(function(){var R=u;P||(R=u.replace(/。/g,".")),R!==u&&s(R)})},Ye=function(){$.current=!0},Je=function(){$.current=!1,ke(_.current.value)},Ze=function(u){ke(u.target.value)},Me=function(u){var v;if(!(u&&Ce||!u&&De)){E.current=!1;var l=x(B.current?Te(m):m);u||(l=l.negate());var R=(f||x(0)).add(l.toString()),te=he(R,!1);A==null||A(Ue(j,te),{offset:B.current?Te(m):m,type:u?"up":"down"}),(v=_.current)===null||v===void 0||v.focus()}},Oe=function(u){var v=x(H(k)),l=v;v.isNaN()?l=f:l=he(v,u),b!==void 0?ee(f,!1):l.isNaN()||ee(l,!1)},Qe=function(){E.current=!0},et=function(u){var v=u.which,l=u.shiftKey;E.current=!0,l?B.current=!0:B.current=!1,v===me.ENTER&&($.current||(E.current=!1),Oe(!1),X==null||X(u)),O!==!1&&!$.current&&[me.UP,me.DOWN].includes(v)&&(Me(me.UP===v),u.preventDefault())},tt=function(){E.current=!1,B.current=!1},nt=function(){Oe(!1),se(!1),E.current=!1};return ye(function(){f.isInvalidate()||ee(f,!1)},[F]),ye(function(){var s=x(b);fe(s);var u=x(H(k));(!s.equals(u)||!E.current||y)&&ee(s,E.current)},[b]),ye(function(){y&&We()},[k]),r.createElement("div",{className:T(a,c,(t={},p(t,"".concat(a,"-focused"),oe),p(t,"".concat(a,"-disabled"),w),p(t,"".concat(a,"-readonly"),M),p(t,"".concat(a,"-not-a-number"),f.isNaN()),p(t,"".concat(a,"-out-of-range"),!f.isInvalidate()&&!Ne(f)),t)),style:N,onFocus:function(){se(!0)},onBlur:nt,onKeyDown:et,onKeyUp:tt,onCompositionStart:Ye,onCompositionEnd:Je,onBeforeInput:Qe},ae&&r.createElement(It,{prefixCls:a,upNode:C,downNode:I,upDisabled:Ce,downDisabled:De,onStep:Me}),r.createElement("div",{className:"".concat(ie,"-wrap")},r.createElement("input",ge({autoComplete:"off",role:"spinbutton","aria-valuemin":d,"aria-valuemax":h,"aria-valuenow":f.isInvalidate()?null:f.toString(),step:m},Y,{ref:ut(_,n),className:ie,value:k,onChange:Ze,disabled:w,readOnly:M}))))});Le.displayName="InputNumber";var Ct=globalThis&&globalThis.__rest||function(e,n){var t={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&n.indexOf(i)<0&&(t[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(e);a<i.length;a++)n.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(e,i[a])&&(t[i[a]]=e[i[a]]);return t},Dt=r.forwardRef(function(e,n){var t=r.useContext(ot),i=t.getPrefixCls,a=t.direction,c=r.useContext(st),N=r.useState(!1),d=ne(N,2),h=d[0],S=d[1],m=r.useRef(null);r.useImperativeHandle(n,function(){return m.current});var g=e.className,b=e.size,w=e.disabled,M=e.prefixCls,C=e.addonBefore,I=e.addonAfter,O=e.prefix,V=e.bordered,ae=V===void 0?!0:V,j=e.readOnly,P=e.status,y=e.controls,F=Ct(e,["className","size","disabled","prefixCls","addonBefore","addonAfter","prefix","bordered","readOnly","status","controls"]),o=i("input-number",M),q=lt(o,a),W=q.compactSize,X=q.compactItemClassnames,A=r.createElement(St,{className:"".concat(o,"-handler-up-inner")}),Y=r.createElement(ft,{className:"".concat(o,"-handler-down-inner")}),ie=typeof y=="boolean"?y:void 0;ze(y)==="object"&&(A=typeof y.upIcon>"u"?A:r.createElement("span",{className:"".concat(o,"-handler-up-inner")},y.upIcon),Y=typeof y.downIcon>"u"?Y:r.createElement("span",{className:"".concat(o,"-handler-down-inner")},y.downIcon));var _=r.useContext(mt),K=_.hasFeedback,ue=_.status,oe=_.isFormItemInput,se=_.feedbackIcon,E=vt(ue,P),$=W||b||c,B=r.useContext(ct),le=w??B,ce=T(p(p(p(p(p({},"".concat(o,"-lg"),$==="large"),"".concat(o,"-sm"),$==="small"),"".concat(o,"-rtl"),a==="rtl"),"".concat(o,"-borderless"),!ae),"".concat(o,"-in-form-item"),oe),Ie(o,E),X,g),f=r.createElement(Le,ge({ref:m,disabled:le,className:ce,upHandler:A,downHandler:Y,prefixCls:o,readOnly:j,controls:ie},F));if(O!=null||K){var fe=T("".concat(o,"-affix-wrapper"),Ie("".concat(o,"-affix-wrapper"),E,K),p(p(p(p(p(p(p(p({},"".concat(o,"-affix-wrapper-focused"),h),"".concat(o,"-affix-wrapper-disabled"),e.disabled),"".concat(o,"-affix-wrapper-sm"),c==="small"),"".concat(o,"-affix-wrapper-lg"),c==="large"),"".concat(o,"-affix-wrapper-rtl"),a==="rtl"),"".concat(o,"-affix-wrapper-readonly"),j),"".concat(o,"-affix-wrapper-borderless"),!ae),"".concat(g),!(C||I)&&g));f=r.createElement("div",{className:fe,style:e.style,onMouseUp:function(){return m.current.focus()}},O&&r.createElement("span",{className:"".concat(o,"-prefix")},O),$e(f,{style:null,value:e.value,onFocus:function(k){var D;S(!0),(D=e.onFocus)===null||D===void 0||D.call(e,k)},onBlur:function(k){var D;S(!1),(D=e.onBlur)===null||D===void 0||D.call(e,k)}}),K&&r.createElement("span",{className:"".concat(o,"-suffix")},se))}if(C!=null||I!=null){var J="".concat(o,"-group"),z="".concat(J,"-addon"),H=C?r.createElement("div",{className:z},C):null,Z=I?r.createElement("div",{className:z},I):null,de=T("".concat(o,"-wrapper"),J,p({},"".concat(J,"-rtl"),a==="rtl")),Se=T("".concat(o,"-group-wrapper"),p(p(p({},"".concat(o,"-group-wrapper-sm"),c==="small"),"".concat(o,"-group-wrapper-lg"),c==="large"),"".concat(o,"-group-wrapper-rtl"),a==="rtl"),Ie("".concat(o,"-group-wrapper"),E,K),g);f=r.createElement("div",{className:Se,style:e.style},r.createElement("div",{className:de},H&&r.createElement(Ae,null,r.createElement(Be,{status:!0,override:!0},H)),$e(f,{style:null,disabled:le}),Z&&r.createElement(Ae,null,r.createElement(Be,{status:!0,override:!0},Z))))}return f});const Vt=Dt;export{Vt as I};
