import{u as l,a as c,j as e,U as m,B as n,r as u,A as d}from"./index-5bce78cb.js";import{A as p}from"./AccountIconSelect-d72b0863.js";import{F as s}from"./index-cdfdc75e.js";import{I as x}from"./index-4b2128c5.js";import{I as j}from"./index-72c1e915.js";import"./index-f15d770f.js";import"./useMergedState-bafc2ea4.js";import"./KeyCode-6413d982.js";const h=({onFinish:a})=>{const{useCreate:t}=l(),r=c(),i=t({});return e.jsxs("div",{children:[e.jsx("div",{children:"Новый счет"}),e.jsxs(s,{name:"basic",labelCol:{span:8},layout:"vertical",wrapperCol:{span:16},initialValues:{initialValue:0,name:""},onFinish:o=>{i.mutate(o),console.log("query.isSuccess"),r(m.SETTINGS.ACCOUNTS),a()},autoComplete:"off",children:[e.jsx(s.Item,{label:"Название",name:"name",rules:[{message:"Введите название счета",required:!0}],children:e.jsx(x,{})}),e.jsx(s.Item,{label:"Иконка",name:"icon",children:e.jsx(p,{})}),e.jsx(s.Item,{label:"Остаток",name:"initialValue",children:e.jsx(j,{style:{width:300}})}),e.jsx(s.Item,{wrapperCol:{offset:8,span:16},children:e.jsx(n,{type:"primary",htmlType:"submit",disabled:i.isLoading,children:"Сохранить"})})]}),i.isLoading&&e.jsx("div",{children:"Сохранение данных..."})]})},v=()=>{const[a,t]=u.useState(!1);return e.jsxs(e.Fragment,{children:[e.jsx(d,{}),e.jsx(n,{onClick:()=>{t(!0)},children:"Добавить"}),a&&e.jsx(h,{onFinish:()=>{t(!1)}})]})};export{v as AccountsPage,v as default};
