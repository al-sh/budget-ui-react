import{a2 as X,Y as P,I as me,a0 as ne,a8 as gt,a9 as ke,r as m,q,K as L,O as G,a4 as We,a5 as Ye,a6 as Xe,az as Y,a7 as Je,J as te,aa as yt,Z as Ne,P as Kt,aA as Ie,ah as Ae,j as Ze}from"./index-697270f0.js";import{K as ie}from"./KeyCode-6413d982.js";import{p as Qe,L as mt,A as et}from"./index-a298c4f8.js";import{c as tt}from"./useMergedState-77adb9a5.js";import{t as kt}from"./index-08d3edcd.js";function F(r,d){return r[d]}function nt(r,d){var l=new Set;return r.forEach(function(e){d.has(e)||l.add(e)}),l}function Nt(r){var d=r||{},l=d.disabled,e=d.disableCheckbox,o=d.checkable;return!!(l||e)||o===!1}function xt(r,d,l,e){for(var o=new Set(r),c=new Set,p=0;p<=l;p+=1){var t=d.get(p)||new Set;t.forEach(function(s){var u=s.key,v=s.node,h=s.children,g=h===void 0?[]:h;o.has(u)&&!e(v)&&g.filter(function(y){return!e(y.node)}).forEach(function(y){o.add(y.key)})})}for(var n=new Set,a=l;a>=0;a-=1){var i=d.get(a)||new Set;i.forEach(function(s){var u=s.parent,v=s.node;if(!(e(v)||!s.parent||n.has(s.parent.key))){if(e(s.parent.node)){n.add(u.key);return}var h=!0,g=!1;(u.children||[]).filter(function(y){return!e(y.node)}).forEach(function(y){var f=y.key,K=o.has(f);h&&!K&&(h=!1),!g&&(K||c.has(f))&&(g=!0)}),h&&o.add(u.key),g&&c.add(u.key),n.add(u.key)}})}return{checkedKeys:Array.from(o),halfCheckedKeys:Array.from(nt(c,o))}}function Et(r,d,l,e,o){for(var c=new Set(r),p=new Set(d),t=0;t<=e;t+=1){var n=l.get(t)||new Set;n.forEach(function(u){var v=u.key,h=u.node,g=u.children,y=g===void 0?[]:g;!c.has(v)&&!p.has(v)&&!o(h)&&y.filter(function(f){return!o(f.node)}).forEach(function(f){c.delete(f.key)})})}p=new Set;for(var a=new Set,i=e;i>=0;i-=1){var s=l.get(i)||new Set;s.forEach(function(u){var v=u.parent,h=u.node;if(!(o(h)||!u.parent||a.has(u.parent.key))){if(o(u.parent.node)){a.add(v.key);return}var g=!0,y=!1;(v.children||[]).filter(function(f){return!o(f.node)}).forEach(function(f){var K=f.key,k=c.has(K);g&&!k&&(g=!1),!y&&(k||p.has(K))&&(y=!0)}),g||c.delete(v.key),y&&p.add(v.key),a.add(v.key)}})}return{checkedKeys:Array.from(c),halfCheckedKeys:Array.from(nt(p,c))}}function Se(r,d,l,e){var o=[],c;e?c=e:c=Nt;var p=new Set(r.filter(function(i){var s=!!F(l,i);return s||o.push(i),s})),t=new Map,n=0;Object.keys(l).forEach(function(i){var s=l[i],u=s.level,v=t.get(u);v||(v=new Set,t.set(u,v)),v.add(s),n=Math.max(n,u)}),X(!o.length,"Tree missing follow keys: ".concat(o.slice(0,100).map(function(i){return"'".concat(i,"'")}).join(", ")));var a;return d===!0?a=xt(p,t,n,c):a=Et(p,d.halfCheckedKeys,t,n,c),a}var Ct=["children"];function at(r,d){return"".concat(r,"-").concat(d)}function bt(r){return r&&r.type&&r.type.isTreeNode}function pe(r,d){return r??d}function Ke(r){var d=r||{},l=d.title,e=d._title,o=d.key,c=d.children,p=l||"title";return{title:p,_title:e||[p],key:o||"key",children:c||"children"}}function Dt(r){function d(l){var e=kt(l);return e.map(function(o){if(!bt(o))return X(!o,"Tree/TreeNode can only accept TreeNode as children."),null;var c=o.key,p=o.props,t=p.children,n=me(p,Ct),a=P({key:c},n),i=d(t);return i.length&&(a.children=i),a}).filter(function(o){return o})}return d(r)}function Oe(r,d,l){var e=Ke(l),o=e._title,c=e.key,p=e.children,t=new Set(d===!0?[]:d),n=[];function a(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return i.map(function(u,v){for(var h=at(s?s.pos:"0",v),g=pe(u[c],h),y,f=0;f<o.length;f+=1){var K=o[f];if(u[K]!==void 0){y=u[K];break}}var k=P(P({},gt(u,[].concat(ne(o),[c,p]))),{},{title:y,key:g,parent:s,pos:h,children:null,data:u,isStart:[].concat(ne(s?s.isStart:[]),[v===0]),isEnd:[].concat(ne(s?s.isEnd:[]),[v===i.length-1])});return n.push(k),d===!0||t.has(g)?k.children=a(u[p]||[],k):k.children=[],k})}return a(r),n}function St(r,d,l){var e={};ke(l)==="object"?e=l:e={externalGetKey:l},e=e||{};var o=e,c=o.childrenPropName,p=o.externalGetKey,t=o.fieldNames,n=Ke(t),a=n.key,i=n.children,s=c||i,u;p?typeof p=="string"?u=function(g){return g[p]}:typeof p=="function"&&(u=function(g){return p(g)}):u=function(g,y){return pe(g[a],y)};function v(h,g,y,f){var K=h?h[s]:r,k=h?at(y.pos,g):"0",N=h?[].concat(ne(f),[h]):[];if(h){var x=u(h,k),C={node:h,index:g,pos:k,key:x,parentPos:y.node?y.pos:null,level:y.level+1,nodes:N};d(C)}K&&K.forEach(function(D,b){v(D,b,{node:h,pos:k,level:y?y.level+1:-1},N)})}v(null)}function Ot(r){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=d.initWrapper,e=d.processEntity,o=d.onProcessFinished,c=d.externalGetKey,p=d.childrenPropName,t=d.fieldNames,n=arguments.length>2?arguments[2]:void 0,a=c||n,i={},s={},u={posEntities:i,keyEntities:s};return l&&(u=l(u)||u),St(r,function(v){var h=v.node,g=v.index,y=v.pos,f=v.key,K=v.parentPos,k=v.level,N=v.nodes,x={node:h,nodes:N,index:g,key:f,pos:y,level:k},C=pe(f,y);i[y]=x,s[C]=x,x.parent=i[K],x.parent&&(x.parent.children=x.parent.children||[],x.parent.children.push(x)),e&&e(x,u)},{externalGetKey:a,childrenPropName:p,fieldNames:t}),o&&o(u),u}function fe(r,d){var l=d.expandedKeys,e=d.selectedKeys,o=d.loadedKeys,c=d.loadingKeys,p=d.checkedKeys,t=d.halfCheckedKeys,n=d.dragOverNodeKey,a=d.dropPosition,i=d.keyEntities,s=F(i,r),u={eventKey:r,expanded:l.indexOf(r)!==-1,selected:e.indexOf(r)!==-1,loaded:o.indexOf(r)!==-1,loading:c.indexOf(r)!==-1,checked:p.indexOf(r)!==-1,halfChecked:t.indexOf(r)!==-1,pos:String(s?s.pos:""),dragOver:n===r&&a===0,dragOverGapTop:n===r&&a===-1,dragOverGapBottom:n===r&&a===1};return u}function $(r){var d=r.data,l=r.expanded,e=r.selected,o=r.checked,c=r.loaded,p=r.loading,t=r.halfChecked,n=r.dragOver,a=r.dragOverGapTop,i=r.dragOverGapBottom,s=r.pos,u=r.active,v=r.eventKey,h=P(P({},d),{},{expanded:l,selected:e,checked:o,loaded:c,loading:p,halfChecked:t,dragOver:n,dragOverGapTop:a,dragOverGapBottom:i,pos:s,active:u,key:v});return"props"in h||Object.defineProperty(h,"props",{get:function(){return X(!1,"Second param return from event is node data instead of TreeNode instance. Please read value directly instead of reading from `props`."),r}}),h}var Te=m.createContext(null);function wt(r){var d=r.dropPosition,l=r.dropLevelOffset,e=r.indent,o={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:2};switch(d){case-1:o.top=0,o.left=-l*e;break;case 1:o.bottom=0,o.left=-l*e;break;case 0:o.bottom=0,o.left=e;break}return m.createElement("div",{style:o})}function rt(r){if(r==null)throw new TypeError("Cannot destructure "+r)}var Pt=function(d){for(var l=d.prefixCls,e=d.level,o=d.isStart,c=d.isEnd,p="".concat(l,"-indent-unit"),t=[],n=0;n<e;n+=1){var a;t.push(m.createElement("span",{key:n,className:q(p,(a={},L(a,"".concat(p,"-start"),o[n]),L(a,"".concat(p,"-end"),c[n]),a))}))}return m.createElement("span",{"aria-hidden":"true",className:"".concat(l,"-indent")},t)};const Tt=m.memo(Pt);var Lt=["eventKey","className","style","dragOver","dragOverGapTop","dragOverGapBottom","isLeaf","isStart","isEnd","expanded","selected","checked","halfChecked","loading","domRef","active","data","onMouseMove","selectable"],_e="open",Fe="close",Mt="---",$t=function(r){We(l,r);var d=Ye(l);function l(){var e;Xe(this,l);for(var o=arguments.length,c=new Array(o),p=0;p<o;p++)c[p]=arguments[p];return e=d.call.apply(d,[this].concat(c)),e.state={dragNodeHighlight:!1},e.selectHandle=void 0,e.cacheIndent=void 0,e.onSelectorClick=function(t){var n=e.props.context.onNodeClick;n(t,$(e.props)),e.isSelectable()?e.onSelect(t):e.onCheck(t)},e.onSelectorDoubleClick=function(t){var n=e.props.context.onNodeDoubleClick;n(t,$(e.props))},e.onSelect=function(t){if(!e.isDisabled()){var n=e.props.context.onNodeSelect;n(t,$(e.props))}},e.onCheck=function(t){if(!e.isDisabled()){var n=e.props,a=n.disableCheckbox,i=n.checked,s=e.props.context.onNodeCheck;if(!(!e.isCheckable()||a)){var u=!i;s(t,$(e.props),u)}}},e.onMouseEnter=function(t){var n=e.props.context.onNodeMouseEnter;n(t,$(e.props))},e.onMouseLeave=function(t){var n=e.props.context.onNodeMouseLeave;n(t,$(e.props))},e.onContextMenu=function(t){var n=e.props.context.onNodeContextMenu;n(t,$(e.props))},e.onDragStart=function(t){var n=e.props.context.onNodeDragStart;t.stopPropagation(),e.setState({dragNodeHighlight:!0}),n(t,Y(e));try{t.dataTransfer.setData("text/plain","")}catch{}},e.onDragEnter=function(t){var n=e.props.context.onNodeDragEnter;t.preventDefault(),t.stopPropagation(),n(t,Y(e))},e.onDragOver=function(t){var n=e.props.context.onNodeDragOver;t.preventDefault(),t.stopPropagation(),n(t,Y(e))},e.onDragLeave=function(t){var n=e.props.context.onNodeDragLeave;t.stopPropagation(),n(t,Y(e))},e.onDragEnd=function(t){var n=e.props.context.onNodeDragEnd;t.stopPropagation(),e.setState({dragNodeHighlight:!1}),n(t,Y(e))},e.onDrop=function(t){var n=e.props.context.onNodeDrop;t.preventDefault(),t.stopPropagation(),e.setState({dragNodeHighlight:!1}),n(t,Y(e))},e.onExpand=function(t){var n=e.props,a=n.loading,i=n.context.onNodeExpand;a||i(t,$(e.props))},e.setSelectHandle=function(t){e.selectHandle=t},e.getNodeState=function(){var t=e.props.expanded;return e.isLeaf()?null:t?_e:Fe},e.hasChildren=function(){var t=e.props.eventKey,n=e.props.context.keyEntities,a=F(n,t)||{},i=a.children;return!!(i||[]).length},e.isLeaf=function(){var t=e.props,n=t.isLeaf,a=t.loaded,i=e.props.context.loadData,s=e.hasChildren();return n===!1?!1:n||!i&&!s||i&&a&&!s},e.isDisabled=function(){var t=e.props.disabled,n=e.props.context.disabled;return!!(n||t)},e.isCheckable=function(){var t=e.props.checkable,n=e.props.context.checkable;return!n||t===!1?!1:n},e.syncLoadData=function(t){var n=t.expanded,a=t.loading,i=t.loaded,s=e.props.context,u=s.loadData,v=s.onNodeLoad;a||u&&n&&!e.isLeaf()&&!e.hasChildren()&&!i&&v($(e.props))},e.isDraggable=function(){var t=e.props,n=t.data,a=t.context.draggable;return!!(a&&(!a.nodeDraggable||a.nodeDraggable(n)))},e.renderDragHandler=function(){var t=e.props.context,n=t.draggable,a=t.prefixCls;return n!=null&&n.icon?m.createElement("span",{className:"".concat(a,"-draggable-icon")},n.icon):null},e.renderSwitcherIconDom=function(t){var n=e.props.switcherIcon,a=e.props.context.switcherIcon,i=n||a;return typeof i=="function"?i(P(P({},e.props),{},{isLeaf:t})):i},e.renderSwitcher=function(){var t=e.props.expanded,n=e.props.context.prefixCls;if(e.isLeaf()){var a=e.renderSwitcherIconDom(!0);return a!==!1?m.createElement("span",{className:q("".concat(n,"-switcher"),"".concat(n,"-switcher-noop"))},a):null}var i=q("".concat(n,"-switcher"),"".concat(n,"-switcher_").concat(t?_e:Fe)),s=e.renderSwitcherIconDom(!1);return s!==!1?m.createElement("span",{onClick:e.onExpand,className:i},s):null},e.renderCheckbox=function(){var t=e.props,n=t.checked,a=t.halfChecked,i=t.disableCheckbox,s=e.props.context.prefixCls,u=e.isDisabled(),v=e.isCheckable();if(!v)return null;var h=typeof v!="boolean"?v:null;return m.createElement("span",{className:q("".concat(s,"-checkbox"),n&&"".concat(s,"-checkbox-checked"),!n&&a&&"".concat(s,"-checkbox-indeterminate"),(u||i)&&"".concat(s,"-checkbox-disabled")),onClick:e.onCheck},h)},e.renderIcon=function(){var t=e.props.loading,n=e.props.context.prefixCls;return m.createElement("span",{className:q("".concat(n,"-iconEle"),"".concat(n,"-icon__").concat(e.getNodeState()||"docu"),t&&"".concat(n,"-icon_loading"))})},e.renderSelector=function(){var t=e.state.dragNodeHighlight,n=e.props,a=n.title,i=a===void 0?Mt:a,s=n.selected,u=n.icon,v=n.loading,h=n.data,g=e.props.context,y=g.prefixCls,f=g.showIcon,K=g.icon,k=g.loadData,N=g.titleRender,x=e.isDisabled(),C="".concat(y,"-node-content-wrapper"),D;if(f){var b=u||K;D=b?m.createElement("span",{className:q("".concat(y,"-iconEle"),"".concat(y,"-icon__customize"))},typeof b=="function"?b(e.props):b):e.renderIcon()}else k&&v&&(D=e.renderIcon());var E;typeof i=="function"?E=i(h):N?E=N(h):E=i;var S=m.createElement("span",{className:"".concat(y,"-title")},E);return m.createElement("span",{ref:e.setSelectHandle,title:typeof i=="string"?i:"",className:q("".concat(C),"".concat(C,"-").concat(e.getNodeState()||"normal"),!x&&(s||t)&&"".concat(y,"-node-selected")),onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onContextMenu:e.onContextMenu,onClick:e.onSelectorClick,onDoubleClick:e.onSelectorDoubleClick},D,S,e.renderDropIndicator())},e.renderDropIndicator=function(){var t=e.props,n=t.disabled,a=t.eventKey,i=e.props.context,s=i.draggable,u=i.dropLevelOffset,v=i.dropPosition,h=i.prefixCls,g=i.indent,y=i.dropIndicatorRender,f=i.dragOverNodeKey,K=i.direction,k=!!s,N=!n&&k&&f===a,x=g??e.cacheIndent;return e.cacheIndent=g,N?y({dropPosition:v,dropLevelOffset:u,indent:x,prefixCls:h,direction:K}):null},e}return Je(l,[{key:"componentDidMount",value:function(){this.syncLoadData(this.props)}},{key:"componentDidUpdate",value:function(){this.syncLoadData(this.props)}},{key:"isSelectable",value:function(){var o=this.props.selectable,c=this.props.context.selectable;return typeof o=="boolean"?o:c}},{key:"render",value:function(){var o,c=this.props,p=c.eventKey,t=c.className,n=c.style,a=c.dragOver,i=c.dragOverGapTop,s=c.dragOverGapBottom,u=c.isLeaf,v=c.isStart,h=c.isEnd,g=c.expanded,y=c.selected,f=c.checked,K=c.halfChecked,k=c.loading,N=c.domRef,x=c.active;c.data;var C=c.onMouseMove,D=c.selectable,b=me(c,Lt),E=this.props.context,S=E.prefixCls,w=E.filterTreeNode,O=E.keyEntities,T=E.dropContainerKey,R=E.dropTargetKey,I=E.draggingNodeKey,A=this.isDisabled(),_=Qe(b,{aria:!0,data:!0}),U=F(O,p)||{},de=U.level,se=h[h.length-1],H=this.isDraggable(),B=!A&&H,J=I===p,le=D!==void 0?{"aria-selected":!!D}:void 0;return m.createElement("div",G({ref:N,className:q(t,"".concat(S,"-treenode"),(o={},L(o,"".concat(S,"-treenode-disabled"),A),L(o,"".concat(S,"-treenode-switcher-").concat(g?"open":"close"),!u),L(o,"".concat(S,"-treenode-checkbox-checked"),f),L(o,"".concat(S,"-treenode-checkbox-indeterminate"),K),L(o,"".concat(S,"-treenode-selected"),y),L(o,"".concat(S,"-treenode-loading"),k),L(o,"".concat(S,"-treenode-active"),x),L(o,"".concat(S,"-treenode-leaf-last"),se),L(o,"".concat(S,"-treenode-draggable"),H),L(o,"dragging",J),L(o,"drop-target",R===p),L(o,"drop-container",T===p),L(o,"drag-over",!A&&a),L(o,"drag-over-gap-top",!A&&i),L(o,"drag-over-gap-bottom",!A&&s),L(o,"filter-node",w&&w($(this.props))),o)),style:n,draggable:B,"aria-grabbed":J,onDragStart:B?this.onDragStart:void 0,onDragEnter:H?this.onDragEnter:void 0,onDragOver:H?this.onDragOver:void 0,onDragLeave:H?this.onDragLeave:void 0,onDrop:H?this.onDrop:void 0,onDragEnd:H?this.onDragEnd:void 0,onMouseMove:C},le,_),m.createElement(Tt,{prefixCls:S,level:de,isStart:v,isEnd:h}),this.renderDragHandler(),this.renderSwitcher(),this.renderCheckbox(),this.renderSelector())}}]),l}(m.Component),ve=function(d){return m.createElement(Te.Consumer,null,function(l){return m.createElement($t,G({},d,{context:l}))})};ve.displayName="TreeNode";ve.isTreeNode=1;function Rt(r,d){var l=m.useState(!1),e=te(l,2),o=e[0],c=e[1];m.useLayoutEffect(function(){if(o)return r(),function(){d()}},[o]),m.useLayoutEffect(function(){return c(!0),function(){c(!1)}},[])}var It=["className","style","motion","motionNodes","motionType","onMotionStart","onMotionEnd","active","treeNodeRequiredProps"],ot=function(d,l){var e=d.className,o=d.style,c=d.motion,p=d.motionNodes,t=d.motionType,n=d.onMotionStart,a=d.onMotionEnd,i=d.active,s=d.treeNodeRequiredProps,u=me(d,It),v=m.useState(!0),h=te(v,2),g=h[0],y=h[1],f=m.useContext(Te),K=f.prefixCls,k=p&&t!=="hide";tt(function(){p&&k!==g&&y(k)},[p]);var N=function(){p&&n()},x=m.useRef(!1),C=function(){p&&!x.current&&(x.current=!0,a())};Rt(N,C);var D=function(E){k===E&&C()};return p?m.createElement(yt,G({ref:l,visible:g},c,{motionAppear:t==="show",onVisibleChanged:D}),function(b,E){var S=b.className,w=b.style;return m.createElement("div",{ref:E,className:q("".concat(K,"-treenode-motion"),S),style:w},p.map(function(O){var T=G({},(rt(O.data),O.data)),R=O.title,I=O.key,A=O.isStart,_=O.isEnd;delete T.children;var U=fe(I,s);return m.createElement(ve,G({},T,U,{title:R,active:i,data:O.data,key:I,isStart:A,isEnd:_}))}))}):m.createElement(ve,G({domRef:l,className:e,style:o},u,{active:i}))};ot.displayName="MotionTreeNode";var At=m.forwardRef(ot);function _t(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],l=r.length,e=d.length;if(Math.abs(l-e)!==1)return{add:!1,key:null};function o(c,p){var t=new Map;c.forEach(function(a){t.set(a,!0)});var n=p.filter(function(a){return!t.has(a)});return n.length===1?n[0]:null}return l<e?{add:!0,key:o(r,d)}:{add:!1,key:o(d,r)}}function He(r,d,l){var e=r.findIndex(function(t){return t.key===l}),o=r[e+1],c=d.findIndex(function(t){return t.key===l});if(o){var p=d.findIndex(function(t){return t.key===o.key});return d.slice(c+1,p)}return d.slice(c+1)}var Ft=["prefixCls","data","selectable","checkable","expandedKeys","selectedKeys","checkedKeys","loadedKeys","loadingKeys","halfCheckedKeys","keyEntities","disabled","dragging","dragOverNodeKey","dropPosition","motion","height","itemHeight","virtual","focusable","activeItem","focused","tabIndex","onKeyDown","onFocus","onBlur","onActiveChange","onListChangeStart","onListChangeEnd"],qe={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},Ht=function(){},ae="RC_TREE_MOTION_".concat(Math.random()),Pe={key:ae},it={key:ae,level:0,index:0,pos:"0",node:Pe,nodes:[Pe]},Ue={parent:null,children:[],pos:it.pos,data:Pe,title:null,key:ae,isStart:[],isEnd:[]};function Be(r,d,l,e){return d===!1||!l?r:r.slice(0,Math.ceil(l/e)+1)}function Ge(r){var d=r.key,l=r.pos;return pe(d,l)}function qt(r){for(var d=String(r.data.key),l=r;l.parent;)l=l.parent,d="".concat(l.data.key," > ").concat(d);return d}var dt=m.forwardRef(function(r,d){var l=r.prefixCls,e=r.data;r.selectable,r.checkable;var o=r.expandedKeys,c=r.selectedKeys,p=r.checkedKeys,t=r.loadedKeys,n=r.loadingKeys,a=r.halfCheckedKeys,i=r.keyEntities,s=r.disabled,u=r.dragging,v=r.dragOverNodeKey,h=r.dropPosition,g=r.motion,y=r.height,f=r.itemHeight,K=r.virtual,k=r.focusable,N=r.activeItem,x=r.focused,C=r.tabIndex,D=r.onKeyDown,b=r.onFocus,E=r.onBlur,S=r.onActiveChange,w=r.onListChangeStart,O=r.onListChangeEnd,T=me(r,Ft),R=m.useRef(null),I=m.useRef(null);m.useImperativeHandle(d,function(){return{scrollTo:function(z){R.current.scrollTo(z)},getIndentWidth:function(){return I.current.offsetWidth}}});var A=m.useState(o),_=te(A,2),U=_[0],de=_[1],se=m.useState(e),H=te(se,2),B=H[0],J=H[1],le=m.useState(e),he=te(le,2),xe=he[0],re=he[1],Ee=m.useState([]),ge=te(Ee,2),Ce=ge[0],V=ge[1],vt=m.useState(null),Me=te(vt,2),pt=Me[0],be=Me[1],$e=m.useRef(e);$e.current=e;function De(){var M=$e.current;J(M),re(M),V([]),be(null),O()}tt(function(){de(o);var M=_t(U,o);if(M.key!==null)if(M.add){var z=B.findIndex(function(ce){var ue=ce.key;return ue===M.key}),Z=Be(He(B,e,M.key),K,y,f),oe=B.slice();oe.splice(z+1,0,Ue),re(oe),V(Z),be("show")}else{var Q=e.findIndex(function(ce){var ue=ce.key;return ue===M.key}),ee=Be(He(e,B,M.key),K,y,f),ye=e.slice();ye.splice(Q+1,0,Ue),re(ye),V(ee),be("hide")}else B!==e&&(J(e),re(e))},[o,e]),m.useEffect(function(){u||De()},[u]);var ht=g?xe:e,Re={expandedKeys:o,selectedKeys:c,loadedKeys:t,loadingKeys:n,checkedKeys:p,halfCheckedKeys:a,dragOverNodeKey:v,dropPosition:h,keyEntities:i};return m.createElement(m.Fragment,null,x&&N&&m.createElement("span",{style:qe,"aria-live":"assertive"},qt(N)),m.createElement("div",null,m.createElement("input",{style:qe,disabled:k===!1||s,tabIndex:k!==!1?C:null,onKeyDown:D,onFocus:b,onBlur:E,value:"",onChange:Ht,"aria-label":"for screen reader"})),m.createElement("div",{className:"".concat(l,"-treenode"),"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden",border:0,padding:0}},m.createElement("div",{className:"".concat(l,"-indent")},m.createElement("div",{ref:I,className:"".concat(l,"-indent-unit")}))),m.createElement(mt,G({},T,{data:ht,itemKey:Ge,height:y,fullHeight:!1,virtual:K,itemHeight:f,prefixCls:"".concat(l,"-list"),ref:R,onVisibleChange:function(z,Z){var oe=new Set(z),Q=Z.filter(function(ee){return!oe.has(ee)});Q.some(function(ee){return Ge(ee)===ae})&&De()}}),function(M){var z=M.pos,Z=G({},(rt(M.data),M.data)),oe=M.title,Q=M.key,ee=M.isStart,ye=M.isEnd,ce=pe(Q,z);delete Z.key,delete Z.children;var ue=fe(ce,Re);return m.createElement(At,G({},Z,ue,{title:oe,active:!!N&&Q===N.key,pos:z,data:M.data,isStart:ee,isEnd:ye,motion:g,motionNodes:Q===ae?Ce:null,motionType:pt,onMotionStart:w,onMotionEnd:De,treeNodeRequiredProps:Re,onMouseMove:function(){S(null)}}))}))});dt.displayName="NodeList";function j(r,d){if(!r)return[];var l=r.slice(),e=l.indexOf(d);return e>=0&&l.splice(e,1),l}function W(r,d){var l=(r||[]).slice();return l.indexOf(d)===-1&&l.push(d),l}function Le(r){return r.split("-")}function Ut(r,d){var l=[],e=F(d,r);function o(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];c.forEach(function(p){var t=p.key,n=p.children;l.push(t),o(n)})}return o(e.children),l}function Bt(r){if(r.parent){var d=Le(r.pos);return Number(d[d.length-1])===r.parent.children.length-1}return!1}function Gt(r){var d=Le(r.pos);return Number(d[d.length-1])===0}function je(r,d,l,e,o,c,p,t,n,a){var i,s=r.clientX,u=r.clientY,v=r.target.getBoundingClientRect(),h=v.top,g=v.height,y=(a==="rtl"?-1:1)*(((o==null?void 0:o.x)||0)-s),f=(y-12)/e,K=F(t,l.props.eventKey);if(u<h+g/2){var k=p.findIndex(function(I){return I.key===K.key}),N=k<=0?0:k-1,x=p[N].key;K=F(t,x)}var C=K.key,D=K,b=K.key,E=0,S=0;if(!n.includes(C))for(var w=0;w<f&&Bt(K);w+=1)K=K.parent,S+=1;var O=d.props.data,T=K.node,R=!0;return Gt(K)&&K.level===0&&u<h+g/2&&c({dragNode:O,dropNode:T,dropPosition:-1})&&K.key===l.props.eventKey?E=-1:(D.children||[]).length&&n.includes(b)?c({dragNode:O,dropNode:T,dropPosition:0})?E=0:R=!1:S===0?f>-1.5?c({dragNode:O,dropNode:T,dropPosition:1})?E=1:R=!1:c({dragNode:O,dropNode:T,dropPosition:0})?E=0:c({dragNode:O,dropNode:T,dropPosition:1})?E=1:R=!1:c({dragNode:O,dropNode:T,dropPosition:1})?E=1:R=!1,{dropPosition:E,dropLevelOffset:S,dropTargetKey:K.key,dropTargetPos:K.pos,dragOverNodeKey:b,dropContainerKey:E===0?null:((i=K.parent)===null||i===void 0?void 0:i.key)||null,dropAllowed:R}}function Ve(r,d){if(r){var l=d.multiple;return l?r.slice():r.length?[r[0]]:r}}function we(r){if(!r)return null;var d;if(Array.isArray(r))d={checkedKeys:r,halfCheckedKeys:void 0};else if(ke(r)==="object")d={checkedKeys:r.checked||void 0,halfCheckedKeys:r.halfChecked||void 0};else return X(!1,"`checkedKeys` is not an array or an object"),null;return d}function ze(r,d){var l=new Set;function e(o){if(!l.has(o)){var c=F(d,o);if(c){l.add(o);var p=c.parent,t=c.node;t.disabled||p&&e(p.key)}}}return(r||[]).forEach(function(o){e(o)}),ne(l)}var jt=10,st=function(r){We(l,r);var d=Ye(l);function l(){var e;Xe(this,l);for(var o=arguments.length,c=new Array(o),p=0;p<o;p++)c[p]=arguments[p];return e=d.call.apply(d,[this].concat(c)),e.destroyed=!1,e.delayedDragEnterLogic=void 0,e.loadingRetryTimes={},e.state={keyEntities:{},indent:null,selectedKeys:[],checkedKeys:[],halfCheckedKeys:[],loadedKeys:[],loadingKeys:[],expandedKeys:[],draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null,treeData:[],flattenNodes:[],focused:!1,activeKey:null,listChanging:!1,prevProps:null,fieldNames:Ke()},e.dragStartMousePosition=null,e.dragNode=void 0,e.currentMouseOverDroppableNodeKey=null,e.listRef=m.createRef(),e.onNodeDragStart=function(t,n){var a=e.state,i=a.expandedKeys,s=a.keyEntities,u=e.props.onDragStart,v=n.props.eventKey;e.dragNode=n,e.dragStartMousePosition={x:t.clientX,y:t.clientY};var h=j(i,v);e.setState({draggingNodeKey:v,dragChildrenKeys:Ut(v,s),indent:e.listRef.current.getIndentWidth()}),e.setExpandedKeys(h),window.addEventListener("dragend",e.onWindowDragEnd),u==null||u({event:t,node:$(n.props)})},e.onNodeDragEnter=function(t,n){var a=e.state,i=a.expandedKeys,s=a.keyEntities,u=a.dragChildrenKeys,v=a.flattenNodes,h=a.indent,g=e.props,y=g.onDragEnter,f=g.onExpand,K=g.allowDrop,k=g.direction,N=n.props,x=N.pos,C=N.eventKey,D=Y(e),b=D.dragNode;if(e.currentMouseOverDroppableNodeKey!==C&&(e.currentMouseOverDroppableNodeKey=C),!b){e.resetDragState();return}var E=je(t,b,n,h,e.dragStartMousePosition,K,v,s,i,k),S=E.dropPosition,w=E.dropLevelOffset,O=E.dropTargetKey,T=E.dropContainerKey,R=E.dropTargetPos,I=E.dropAllowed,A=E.dragOverNodeKey;if(u.indexOf(O)!==-1||!I){e.resetDragState();return}if(e.delayedDragEnterLogic||(e.delayedDragEnterLogic={}),Object.keys(e.delayedDragEnterLogic).forEach(function(_){clearTimeout(e.delayedDragEnterLogic[_])}),b.props.eventKey!==n.props.eventKey&&(t.persist(),e.delayedDragEnterLogic[x]=window.setTimeout(function(){if(e.state.draggingNodeKey!==null){var _=ne(i),U=F(s,n.props.eventKey);U&&(U.children||[]).length&&(_=W(i,n.props.eventKey)),"expandedKeys"in e.props||e.setExpandedKeys(_),f==null||f(_,{node:$(n.props),expanded:!0,nativeEvent:t.nativeEvent})}},800)),b.props.eventKey===O&&w===0){e.resetDragState();return}e.setState({dragOverNodeKey:A,dropPosition:S,dropLevelOffset:w,dropTargetKey:O,dropContainerKey:T,dropTargetPos:R,dropAllowed:I}),y==null||y({event:t,node:$(n.props),expandedKeys:i})},e.onNodeDragOver=function(t,n){var a=e.state,i=a.dragChildrenKeys,s=a.flattenNodes,u=a.keyEntities,v=a.expandedKeys,h=a.indent,g=e.props,y=g.onDragOver,f=g.allowDrop,K=g.direction,k=Y(e),N=k.dragNode;if(N){var x=je(t,N,n,h,e.dragStartMousePosition,f,s,u,v,K),C=x.dropPosition,D=x.dropLevelOffset,b=x.dropTargetKey,E=x.dropContainerKey,S=x.dropAllowed,w=x.dropTargetPos,O=x.dragOverNodeKey;i.indexOf(b)!==-1||!S||(N.props.eventKey===b&&D===0?e.state.dropPosition===null&&e.state.dropLevelOffset===null&&e.state.dropTargetKey===null&&e.state.dropContainerKey===null&&e.state.dropTargetPos===null&&e.state.dropAllowed===!1&&e.state.dragOverNodeKey===null||e.resetDragState():C===e.state.dropPosition&&D===e.state.dropLevelOffset&&b===e.state.dropTargetKey&&E===e.state.dropContainerKey&&w===e.state.dropTargetPos&&S===e.state.dropAllowed&&O===e.state.dragOverNodeKey||e.setState({dropPosition:C,dropLevelOffset:D,dropTargetKey:b,dropContainerKey:E,dropTargetPos:w,dropAllowed:S,dragOverNodeKey:O}),y==null||y({event:t,node:$(n.props)}))}},e.onNodeDragLeave=function(t,n){e.currentMouseOverDroppableNodeKey===n.props.eventKey&&!t.currentTarget.contains(t.relatedTarget)&&(e.resetDragState(),e.currentMouseOverDroppableNodeKey=null);var a=e.props.onDragLeave;a==null||a({event:t,node:$(n.props)})},e.onWindowDragEnd=function(t){e.onNodeDragEnd(t,null,!0),window.removeEventListener("dragend",e.onWindowDragEnd)},e.onNodeDragEnd=function(t,n){var a=e.props.onDragEnd;e.setState({dragOverNodeKey:null}),e.cleanDragState(),a==null||a({event:t,node:$(n.props)}),e.dragNode=null,window.removeEventListener("dragend",e.onWindowDragEnd)},e.onNodeDrop=function(t,n){var a,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,s=e.state,u=s.dragChildrenKeys,v=s.dropPosition,h=s.dropTargetKey,g=s.dropTargetPos,y=s.dropAllowed;if(y){var f=e.props.onDrop;if(e.setState({dragOverNodeKey:null}),e.cleanDragState(),h!==null){var K=P(P({},fe(h,e.getTreeNodeRequiredProps())),{},{active:((a=e.getActiveItem())===null||a===void 0?void 0:a.key)===h,data:F(e.state.keyEntities,h).node}),k=u.indexOf(h)!==-1;X(!k,"Can not drop to dragNode's children node. This is a bug of rc-tree. Please report an issue.");var N=Le(g),x={event:t,node:$(K),dragNode:e.dragNode?$(e.dragNode.props):null,dragNodesKeys:[e.dragNode.props.eventKey].concat(u),dropToGap:v!==0,dropPosition:v+Number(N[N.length-1])};i||f==null||f(x),e.dragNode=null}}},e.cleanDragState=function(){var t=e.state.draggingNodeKey;t!==null&&e.setState({draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),e.dragStartMousePosition=null,e.currentMouseOverDroppableNodeKey=null},e.triggerExpandActionExpand=function(t,n){var a=e.state,i=a.expandedKeys,s=a.flattenNodes,u=n.expanded,v=n.key,h=n.isLeaf;if(!(h||t.shiftKey||t.metaKey||t.ctrlKey)){var g=s.filter(function(f){return f.key===v})[0],y=$(P(P({},fe(v,e.getTreeNodeRequiredProps())),{},{data:g.data}));e.setExpandedKeys(u?j(i,v):W(i,v)),e.onNodeExpand(t,y)}},e.onNodeClick=function(t,n){var a=e.props,i=a.onClick,s=a.expandAction;s==="click"&&e.triggerExpandActionExpand(t,n),i==null||i(t,n)},e.onNodeDoubleClick=function(t,n){var a=e.props,i=a.onDoubleClick,s=a.expandAction;s==="doubleClick"&&e.triggerExpandActionExpand(t,n),i==null||i(t,n)},e.onNodeSelect=function(t,n){var a=e.state.selectedKeys,i=e.state,s=i.keyEntities,u=i.fieldNames,v=e.props,h=v.onSelect,g=v.multiple,y=n.selected,f=n[u.key],K=!y;K?g?a=W(a,f):a=[f]:a=j(a,f);var k=a.map(function(N){var x=F(s,N);return x?x.node:null}).filter(function(N){return N});e.setUncontrolledState({selectedKeys:a}),h==null||h(a,{event:"select",selected:K,node:n,selectedNodes:k,nativeEvent:t.nativeEvent})},e.onNodeCheck=function(t,n,a){var i=e.state,s=i.keyEntities,u=i.checkedKeys,v=i.halfCheckedKeys,h=e.props,g=h.checkStrictly,y=h.onCheck,f=n.key,K,k={event:"check",node:n,checked:a,nativeEvent:t.nativeEvent};if(g){var N=a?W(u,f):j(u,f),x=j(v,f);K={checked:N,halfChecked:x},k.checkedNodes=N.map(function(w){return F(s,w)}).filter(function(w){return w}).map(function(w){return w.node}),e.setUncontrolledState({checkedKeys:N})}else{var C=Se([].concat(ne(u),[f]),!0,s),D=C.checkedKeys,b=C.halfCheckedKeys;if(!a){var E=new Set(D);E.delete(f);var S=Se(Array.from(E),{checked:!1,halfCheckedKeys:b},s);D=S.checkedKeys,b=S.halfCheckedKeys}K=D,k.checkedNodes=[],k.checkedNodesPositions=[],k.halfCheckedKeys=b,D.forEach(function(w){var O=F(s,w);if(O){var T=O.node,R=O.pos;k.checkedNodes.push(T),k.checkedNodesPositions.push({node:T,pos:R})}}),e.setUncontrolledState({checkedKeys:D},!1,{halfCheckedKeys:b})}y==null||y(K,k)},e.onNodeLoad=function(t){var n=t.key,a=new Promise(function(i,s){e.setState(function(u){var v=u.loadedKeys,h=v===void 0?[]:v,g=u.loadingKeys,y=g===void 0?[]:g,f=e.props,K=f.loadData,k=f.onLoad;if(!K||h.indexOf(n)!==-1||y.indexOf(n)!==-1)return null;var N=K(t);return N.then(function(){var x=e.state.loadedKeys,C=W(x,n);k==null||k(C,{event:"load",node:t}),e.setUncontrolledState({loadedKeys:C}),e.setState(function(D){return{loadingKeys:j(D.loadingKeys,n)}}),i()}).catch(function(x){if(e.setState(function(D){return{loadingKeys:j(D.loadingKeys,n)}}),e.loadingRetryTimes[n]=(e.loadingRetryTimes[n]||0)+1,e.loadingRetryTimes[n]>=jt){var C=e.state.loadedKeys;X(!1,"Retry for `loadData` many times but still failed. No more retry."),e.setUncontrolledState({loadedKeys:W(C,n)}),i()}s(x)}),{loadingKeys:W(y,n)}})});return a.catch(function(){}),a},e.onNodeMouseEnter=function(t,n){var a=e.props.onMouseEnter;a==null||a({event:t,node:n})},e.onNodeMouseLeave=function(t,n){var a=e.props.onMouseLeave;a==null||a({event:t,node:n})},e.onNodeContextMenu=function(t,n){var a=e.props.onRightClick;a&&(t.preventDefault(),a({event:t,node:n}))},e.onFocus=function(){var t=e.props.onFocus;e.setState({focused:!0});for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];t==null||t.apply(void 0,a)},e.onBlur=function(){var t=e.props.onBlur;e.setState({focused:!1}),e.onActiveChange(null);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];t==null||t.apply(void 0,a)},e.getTreeNodeRequiredProps=function(){var t=e.state,n=t.expandedKeys,a=t.selectedKeys,i=t.loadedKeys,s=t.loadingKeys,u=t.checkedKeys,v=t.halfCheckedKeys,h=t.dragOverNodeKey,g=t.dropPosition,y=t.keyEntities;return{expandedKeys:n||[],selectedKeys:a||[],loadedKeys:i||[],loadingKeys:s||[],checkedKeys:u||[],halfCheckedKeys:v||[],dragOverNodeKey:h,dropPosition:g,keyEntities:y}},e.setExpandedKeys=function(t){var n=e.state,a=n.treeData,i=n.fieldNames,s=Oe(a,t,i);e.setUncontrolledState({expandedKeys:t,flattenNodes:s},!0)},e.onNodeExpand=function(t,n){var a=e.state.expandedKeys,i=e.state,s=i.listChanging,u=i.fieldNames,v=e.props,h=v.onExpand,g=v.loadData,y=n.expanded,f=n[u.key];if(!s){var K=a.indexOf(f),k=!y;if(X(y&&K!==-1||!y&&K===-1,"Expand state not sync with index check"),k?a=W(a,f):a=j(a,f),e.setExpandedKeys(a),h==null||h(a,{node:n,expanded:k,nativeEvent:t.nativeEvent}),k&&g){var N=e.onNodeLoad(n);N&&N.then(function(){var x=Oe(e.state.treeData,a,u);e.setUncontrolledState({flattenNodes:x})}).catch(function(){var x=e.state.expandedKeys,C=j(x,f);e.setExpandedKeys(C)})}}},e.onListChangeStart=function(){e.setUncontrolledState({listChanging:!0})},e.onListChangeEnd=function(){setTimeout(function(){e.setUncontrolledState({listChanging:!1})})},e.onActiveChange=function(t){var n=e.state.activeKey,a=e.props.onActiveChange;n!==t&&(e.setState({activeKey:t}),t!==null&&e.scrollTo({key:t}),a==null||a(t))},e.getActiveItem=function(){var t=e.state,n=t.activeKey,a=t.flattenNodes;return n===null?null:a.find(function(i){var s=i.key;return s===n})||null},e.offsetActiveKey=function(t){var n=e.state,a=n.flattenNodes,i=n.activeKey,s=a.findIndex(function(h){var g=h.key;return g===i});s===-1&&t<0&&(s=a.length),s=(s+t+a.length)%a.length;var u=a[s];if(u){var v=u.key;e.onActiveChange(v)}else e.onActiveChange(null)},e.onKeyDown=function(t){var n=e.state,a=n.activeKey,i=n.expandedKeys,s=n.checkedKeys,u=n.fieldNames,v=e.props,h=v.onKeyDown,g=v.checkable,y=v.selectable;switch(t.which){case ie.UP:{e.offsetActiveKey(-1),t.preventDefault();break}case ie.DOWN:{e.offsetActiveKey(1),t.preventDefault();break}}var f=e.getActiveItem();if(f&&f.data){var K=e.getTreeNodeRequiredProps(),k=f.data.isLeaf===!1||!!(f.data[u.children]||[]).length,N=$(P(P({},fe(a,K)),{},{data:f.data,active:!0}));switch(t.which){case ie.LEFT:{k&&i.includes(a)?e.onNodeExpand({},N):f.parent&&e.onActiveChange(f.parent.key),t.preventDefault();break}case ie.RIGHT:{k&&!i.includes(a)?e.onNodeExpand({},N):f.children&&f.children.length&&e.onActiveChange(f.children[0].key),t.preventDefault();break}case ie.ENTER:case ie.SPACE:{g&&!N.disabled&&N.checkable!==!1&&!N.disableCheckbox?e.onNodeCheck({},N,!s.includes(a)):!g&&y&&!N.disabled&&N.selectable!==!1&&e.onNodeSelect({},N);break}}}h==null||h(t)},e.setUncontrolledState=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!e.destroyed){var i=!1,s=!0,u={};Object.keys(t).forEach(function(v){if(v in e.props){s=!1;return}i=!0,u[v]=t[v]}),i&&(!n||s)&&e.setState(P(P({},u),a))}},e.scrollTo=function(t){e.listRef.current.scrollTo(t)},e}return Je(l,[{key:"componentDidMount",value:function(){this.destroyed=!1,this.onUpdated()}},{key:"componentDidUpdate",value:function(){this.onUpdated()}},{key:"onUpdated",value:function(){var o=this.props.activeKey;o!==void 0&&o!==this.state.activeKey&&(this.setState({activeKey:o}),o!==null&&this.scrollTo({key:o}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("dragend",this.onWindowDragEnd),this.destroyed=!0}},{key:"resetDragState",value:function(){this.setState({dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})}},{key:"render",value:function(){var o,c=this.state,p=c.focused,t=c.flattenNodes,n=c.keyEntities,a=c.draggingNodeKey,i=c.activeKey,s=c.dropLevelOffset,u=c.dropContainerKey,v=c.dropTargetKey,h=c.dropPosition,g=c.dragOverNodeKey,y=c.indent,f=this.props,K=f.prefixCls,k=f.className,N=f.style,x=f.showLine,C=f.focusable,D=f.tabIndex,b=D===void 0?0:D,E=f.selectable,S=f.showIcon,w=f.icon,O=f.switcherIcon,T=f.draggable,R=f.checkable,I=f.checkStrictly,A=f.disabled,_=f.motion,U=f.loadData,de=f.filterTreeNode,se=f.height,H=f.itemHeight,B=f.virtual,J=f.titleRender,le=f.dropIndicatorRender,he=f.onContextMenu,xe=f.onScroll,re=f.direction,Ee=f.rootClassName,ge=f.rootStyle,Ce=Qe(this.props,{aria:!0,data:!0}),V;return T&&(ke(T)==="object"?V=T:typeof T=="function"?V={nodeDraggable:T}:V={}),m.createElement(Te.Provider,{value:{prefixCls:K,selectable:E,showIcon:S,icon:w,switcherIcon:O,draggable:V,draggingNodeKey:a,checkable:R,checkStrictly:I,disabled:A,keyEntities:n,dropLevelOffset:s,dropContainerKey:u,dropTargetKey:v,dropPosition:h,dragOverNodeKey:g,indent:y,direction:re,dropIndicatorRender:le,loadData:U,filterTreeNode:de,titleRender:J,onNodeClick:this.onNodeClick,onNodeDoubleClick:this.onNodeDoubleClick,onNodeExpand:this.onNodeExpand,onNodeSelect:this.onNodeSelect,onNodeCheck:this.onNodeCheck,onNodeLoad:this.onNodeLoad,onNodeMouseEnter:this.onNodeMouseEnter,onNodeMouseLeave:this.onNodeMouseLeave,onNodeContextMenu:this.onNodeContextMenu,onNodeDragStart:this.onNodeDragStart,onNodeDragEnter:this.onNodeDragEnter,onNodeDragOver:this.onNodeDragOver,onNodeDragLeave:this.onNodeDragLeave,onNodeDragEnd:this.onNodeDragEnd,onNodeDrop:this.onNodeDrop}},m.createElement("div",{role:"tree",className:q(K,k,Ee,(o={},L(o,"".concat(K,"-show-line"),x),L(o,"".concat(K,"-focused"),p),L(o,"".concat(K,"-active-focused"),i!==null),o)),style:ge},m.createElement(dt,G({ref:this.listRef,prefixCls:K,style:N,data:t,disabled:A,selectable:E,checkable:!!R,motion:_,dragging:a!==null,height:se,itemHeight:H,virtual:B,focusable:C,focused:p,tabIndex:b,activeItem:this.getActiveItem(),onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onActiveChange:this.onActiveChange,onListChangeStart:this.onListChangeStart,onListChangeEnd:this.onListChangeEnd,onContextMenu:he,onScroll:xe},this.getTreeNodeRequiredProps(),Ce))))}}],[{key:"getDerivedStateFromProps",value:function(o,c){var p=c.prevProps,t={prevProps:o};function n(C){return!p&&C in o||p&&p[C]!==o[C]}var a,i=c.fieldNames;if(n("fieldNames")&&(i=Ke(o.fieldNames),t.fieldNames=i),n("treeData")?a=o.treeData:n("children")&&(X(!1,"`children` of Tree is deprecated. Please use `treeData` instead."),a=Dt(o.children)),a){t.treeData=a;var s=Ot(a,{fieldNames:i});t.keyEntities=P(L({},ae,it),s.keyEntities)}var u=t.keyEntities||c.keyEntities;if(n("expandedKeys")||p&&n("autoExpandParent"))t.expandedKeys=o.autoExpandParent||!p&&o.defaultExpandParent?ze(o.expandedKeys,u):o.expandedKeys;else if(!p&&o.defaultExpandAll){var v=P({},u);delete v[ae],t.expandedKeys=Object.keys(v).map(function(C){return v[C].key})}else!p&&o.defaultExpandedKeys&&(t.expandedKeys=o.autoExpandParent||o.defaultExpandParent?ze(o.defaultExpandedKeys,u):o.defaultExpandedKeys);if(t.expandedKeys||delete t.expandedKeys,a||t.expandedKeys){var h=Oe(a||c.treeData,t.expandedKeys||c.expandedKeys,i);t.flattenNodes=h}if(o.selectable&&(n("selectedKeys")?t.selectedKeys=Ve(o.selectedKeys,o):!p&&o.defaultSelectedKeys&&(t.selectedKeys=Ve(o.defaultSelectedKeys,o))),o.checkable){var g;if(n("checkedKeys")?g=we(o.checkedKeys)||{}:!p&&o.defaultCheckedKeys?g=we(o.defaultCheckedKeys)||{}:a&&(g=we(o.checkedKeys)||{checkedKeys:c.checkedKeys,halfCheckedKeys:c.halfCheckedKeys}),g){var y=g,f=y.checkedKeys,K=f===void 0?[]:f,k=y.halfCheckedKeys,N=k===void 0?[]:k;if(!o.checkStrictly){var x=Se(K,!0,u);K=x.checkedKeys,N=x.halfCheckedKeys}t.checkedKeys=K,t.halfCheckedKeys=N}}return n("loadedKeys")&&(t.loadedKeys=o.loadedKeys),t}}]),l}(m.Component);st.defaultProps={prefixCls:"rc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:wt,allowDrop:function(){return!0},expandAction:!1};st.TreeNode=ve;var Vt={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"filled"};const zt=Vt;var lt=function(d,l){return m.createElement(Ne,P(P({},d),{},{ref:l,icon:zt}))};lt.displayName="CaretDownFilled";const Wt=m.forwardRef(lt);var Yt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"}}]},name:"file",theme:"outlined"};const Xt=Yt;var ct=function(d,l){return m.createElement(Ne,P(P({},d),{},{ref:l,icon:Xt}))};ct.displayName="FileOutlined";const Jt=m.forwardRef(ct);var Zt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"minus-square",theme:"outlined"};const Qt=Zt;var ut=function(d,l){return m.createElement(Ne,P(P({},d),{},{ref:l,icon:Qt}))};ut.displayName="MinusSquareOutlined";const en=m.forwardRef(ut);var tn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"plus-square",theme:"outlined"};const nn=tn;var ft=function(d,l){return m.createElement(Ne,P(P({},d),{},{ref:l,icon:nn}))};ft.displayName="PlusSquareOutlined";const an=m.forwardRef(ft);function un(r,d,l,e){var o=e.isLeaf,c=e.expanded,p=e.loading;if(p)return m.createElement(Kt,{className:"".concat(r,"-switcher-loading-icon")});var t;if(l&&ke(l)==="object"&&(t=l.showLeafIcon),o){if(!l)return null;if(typeof t!="boolean"&&t){var n=typeof t=="function"?t(e):t,a="".concat(r,"-switcher-line-custom-icon");return Ie(n)?Ae(n,{className:q(n.props.className||"",a)}):n}return t?m.createElement(Jt,{className:"".concat(r,"-switcher-line-icon")}):m.createElement("span",{className:"".concat(r,"-switcher-leaf-line")})}var i="".concat(r,"-switcher-icon"),s=typeof d=="function"?d(e):d;return Ie(s)?Ae(s,{className:q(s.props.className||"",i)}):s||(l?c?m.createElement(en,{className:"".concat(r,"-switcher-line-icon")}):m.createElement(an,{className:"".concat(r,"-switcher-line-icon")}):m.createElement(Wt,{className:i}))}const fn=({allowClear:r,children:d,disabled:l,loading:e,value:o,onChange:c})=>Ze.jsx(et,{allowClear:r,disabled:l,loading:e,value:o!=0?o:void 0,onChange:c,children:d}),vn=({children:r})=>Ze.jsx(et.Option,{children:r});export{ve as C,Jt as F,fn as S,st as T,ze as a,Dt as b,Ot as c,vn as d,Se as e,un as r};
